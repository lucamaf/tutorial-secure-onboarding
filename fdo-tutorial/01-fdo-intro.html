<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>FIDO Device Onboarding (FDO) - Intro :: Secure Edge device onboarding with RHEL and FDO</title>
    <link rel="canonical" href="https://luisarizmendi.github.io/tutorial-secure-onboarding/fdo-tutorial/01-fdo-intro.html">
    <link rel="prev" href="00-intro.html">
    <link rel="next" href="01-fdo-lab.html">
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://developers.redhat.com" target="_blank"><img src="../_/img/NewRHDFullLogo_4-color_white-wordmark.png" height="40px" alt="Red Hat Developer Program"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="https://luisarizmendi.github.io/tutorial-secure-onboarding">Secure Edge device onboarding with RHEL and FDO</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://developers.redhat.com/ebooks/" target="_blank">Books</a>
        <a class="navbar-item" href="https://developers.redhat.com/cheatsheets/" target="_blank">Cheat Sheets</a>
        <a class="navbar-item" href="https://developers.redhat.com/events/" target="_blank">Upcoming Events</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">More Tutorials</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/kubernetes-tutorial/" target="_blank">Kubernetes</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/istio-tutorial/" target="_blank">Istio</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/quarkus-tutorial/" target="_blank">Quarkus</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/knative-tutorial/" target="_blank">Knative</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/tekton-tutorial/" target="_blank">Tekton</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="fdo-tutorial" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html"></a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="00-prerequisites.html">Lab prerequisites</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="00-prerequisites.html#virtualization">Prepare your virtualization environment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="00-prerequisites.html#arch">Choose your lab architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="00-prerequisites.html#usecase">Create your use case</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="00-intro.html">Introduction to secure edge device onboarding</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="00-intro.html#intro-scaling">Scaling traditional device deployment for the edge environments</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="00-intro.html#intro-security">Device onboarding security and image templates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="00-intro.html#intro-fdo">Centralizing the device onboarding intelligence</a>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="01-fdo-intro.html">1.a FDO - Intro</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#fdo-intro-origins">FDO&#8217;s origins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#fdo-intro-components">FDO components</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#fdo-intro-workflow">FDO workflow</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#fdo-intro-workflow-before">1. Before the first boot</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#fdo-intro-workflow-during">2. During the first boot</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#fdo-intro-workflow-after">3. After the first boot</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="01-fdo-lab.html">1.b FDO - Lab</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="01-fdo-lab.html#fdo-services">FDO services</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="01-fdo-lab.html#fdo-services-aio">Option 1: All-in-one FDO server installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="01-fdo-lab.html#fdo-services-dedicated">Option 2: Dedicated FDO servers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="01-fdo-lab.html#fdo-config">FDO Service API config</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="01-fdo-lab.html#fdo-optiona">Option A: Creating your own use case</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="01-fdo-lab.html#fdo-optiona-user">initial_user</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="01-fdo-lab.html#fdo-optiona-files">files</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="01-fdo-lab.html#fdo-optiona-commands">commands</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="01-fdo-lab.html#fdo-optiona-encrypt">diskencryption_clevis</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="01-fdo-lab.html#fdo-optionb">Option B: Using the example use case</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-fdo-lab.html#fdo-summary">FDO Lab summary</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="02-rfe-intro.html">2.a RHEL OSTree images - Intro</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-rfe-intro.html#rfe-intro-benefits">OSTree RHEL benefits for edge computing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-rfe-intro.html#rfe-intro-article">OSTree-based Operating Systems article</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="02-rfe-lab.html">2.b RHEL OSTree image - Lab</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-rfe-lab.html#rfe-imagebuilder">Install Image builder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="02-rfe-lab.html#rfe-image">Create the RHEL OSTree image</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="02-rfe-lab.html#rfe-ostreeimage">Generating the repo image</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="02-rfe-lab.html#rfe-ostreeimage-optiona">Option A: Blueprint file for your own FDO onboarding automation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="02-rfe-lab.html#rfe-ostreeimage-optionb">Option B: Blueprint file for the provided FDO automation example</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="02-rfe-lab.html#rfe-ostreeimage-createrepo">Creating the OSTree repository</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="02-rfe-lab.html#rfe-publish">Publishing the repo image</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-rfe-lab.html#rfe-iso">Create the RHEL ISO</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-rfe-lab.html#rfe-summary">RHEL OSTree image Lab summary</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="03-onboarding.html">3. Edge device onboarding - Lab</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-onboarding.html#onboard-vm">Step 0 - Create the edge device VM</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-onboarding.html#onboard-first">Step 1 - Edge device&#8217;s first boot</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-onboarding.html#onboard-voucher">Step 2 - Distribute the Vouchers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-onboarding.html#onboard-finalboot">Step 3 - Automatic onboarding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-onboarding.html#onboard-checks">Checking the edge device onboard</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-onboarding.html#onboard-change">Updating the onboard automation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-onboarding.html#onboard-summary">Edge device onboarding Lab summary</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="99-summary.html">Summary</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Secure Edge device onboarding with RHEL and FDO</a></li>
    <li><a href="01-fdo-intro.html">1.a FDO - Intro</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/luisarizmendi/tutorial-secure-onboarding/edit/master/documentation/modules/ROOT/pages/01-fdo-intro.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">FIDO Device Onboarding (FDO) - Intro</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The FIDO Device Onboard (FDO) specification is the first widely accepted industry specification aimed at solving edge computing and Internet of Things (IoT) device onboarding challenges.</p>
</div>
<div class="paragraph">
<p>The edge device onboarding problem is not new, and companies have developed solutions to cover the challenges. However, none was accepted as a standard because they were either lock-in solutions or had other issues.</p>
</div>
<div class="paragraph">
<p>A common problem when creating device image templates as was explained in the <a href="00-intro.html" class="xref page">introduction to secure edge device onboarding</a>, is that the device manufacturer needs to know details about who the device owner or user will be (think about certificates, passwords, etc) and sometimes even the installation platform details to preconfigure the device. As you can probably imagine, that&#8217;s inconvenient and even more difficult if you rely on a third-party manufacturer to create the devices.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fdo-intro-origins"><a class="anchor" href="#fdo-intro-origins"></a>FDO&#8217;s origins</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Because of these issues, a group of smart people decided it would be a good idea to think about what proper edge computing device onboarding should look like. Thanks to a great cross-company collaboration spirit (one of the best open source principles), they designed the FDO specification. In the collaboration&#8217;s words:</p>
</div>
<div class="paragraph">
<p><em>The FIDO Alliance is an open industry association with a focused mission: authentication standards to help reduce the world&#8217;s over-reliance on passwords. The FIDO Alliance promotes the development of, use of, and compliance with standards for authentication and device attestation.</em></p>
</div>
<div class="paragraph">
<p>Since nobody wants to reinvent the wheel, they looked for solutions that could be the foundation for the FDO implementation. Intel offered its Secure Device Onboarding (SDO) technology to the Linux Foundation, and the alliance agreed it would be a good starting point. So you could say that SDO is the parent of FDO.</p>
</div>
<div class="paragraph">
<p>Taking SDO as the foundation, the alliance developed the FDO standard with these key principles in mind:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The specification should solve the authentication/trust problem with standard tools.</p>
</li>
<li>
<p>The specification should be compatible with other existing zero-touch provisioning tools.</p>
</li>
<li>
<p>It cannot be tied to any specific hardware or platform.</p>
</li>
<li>
<p>It needs to implement "late binding," which means you don&#8217;t need to know the final owner or deployment details when creating the device templates. This approach reduces the number of templates and allows manufacturers to standardize their offerings.</p>
</li>
<li>
<p>The specification must be open.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As a result, we now have an industry-accepted specification for IoT and edge computing device onboarding promoted by the Linux Foundation Edge (LF-Edge) organization.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fdo-intro-components"><a class="anchor" href="#fdo-intro-components"></a>FDO components</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Companies typically acquire their IoT and edge computing devices from a third party (OEM) that provides the solution. There are two main players: the manufacturer and the customer or owner, and they are usually at separate locations. The manufacturer creates the device or image template at their location. The owner, who does not need any specific technical background related to the solution, receives the device, deploys it on the selected platform, boots it up, possibly customizes provisioning with a simple wizard (planned for future FDO releases), and starts using it.</p>
</div>
<div class="paragraph">
<p>This model requires several pieces: The manufacturer must be able to sign the device, the owner must be able to trust the device, and the provisioning must be completed automatically with the customizations required by the owner, location, and device usage. These pieces include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Manufacturing server</strong>: Located at the manufacturer&#8217;s premises, the Manufacturing server signs the device, creates a voucher to set the device ownership, and binds it to a specific platform or cloud.</p>
</li>
<li>
<p><strong>Rendezvous server</strong>: This server is located at the owner&#8217;s premises or the platform where the device management system will be used (such as a public cloud). It receives the voucher generated by the Manufacturing server during the first device boot. The server then matches the device UUID with a target platform or cloud and provides information to the device about which Owner server endpoint it should use.</p>
</li>
<li>
<p><strong>Owner or onboarding server</strong>: This is located at the owner&#8217;s premises or the platform where the device will be deployed. After device authentication, a secure channel is created between the device and this server that is used to send the required pieces (such as files and scripts) for the onboarding automation to the device.</p>
</li>
<li>
<p><strong>Device client</strong>: Installed on the device as the client piece of the solution, it queries the servers where the onboarding automation will be executed. This client could be implemented on top of the device&#8217;s processor or co-processor firmware, a microcontroller unit, or as a process of an operating system.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Communication between these components happens using standard TCP/IP protocols such as HTTP/HTTPS.</p>
</div>
<div class="paragraph">
<p>You could also use FDO in completely disconnected environments, provided the device has access to the Rendezvous and Owner servers.</p>
</div>
<div class="paragraph">
<p>Other pieces that could be included as part of the solution are API servers that make it possible to manage the device programmatically, or proxies or edge gateways that enable non-IP systems to communicate with the servers, as depicted below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/fdo-interfaces.webp" alt="FDO interfaces">
</div>
<div class="title">Figure 1. FDO interfaces (Source: FIDO Alliance)</div>
</div>
<div class="paragraph">
<p>Let&#8217;s review the role of these components by reviewing the FDO workflow during device onboarding.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fdo-intro-workflow"><a class="anchor" href="#fdo-intro-workflow"></a>FDO workflow</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="_images/fdo-workflow.png" alt="FDO workflow">
</div>
<div class="title">Figure 2. FDO workflow</div>
</div>
<div class="paragraph">
<p>There are three stages in the FDO specification: Before, during, and after the device&#8217;s first boot.</p>
</div>
<div class="sect2">
<h3 id="fdo-intro-workflow-before"><a class="anchor" href="#fdo-intro-workflow-before"></a>1. Before the first boot</h3>
<div class="paragraph">
<p>This step takes place at the manufacturing location, which could be a third party or another organization inside your own company.</p>
</div>
<div class="paragraph">
<p>The device is prepared at the manufacturing location. This process involves the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The tools required to identify the device are included in the device. These include the FDO client and a set of certificates and keys that could be installed on the operating system or part of the firmware (such as in a Trusted Platform Module).</p>
</li>
<li>
<p>The Rendezvous server endpoint (URL) is included in the device.</p>
</li>
<li>
<p>The ownership voucher is created. This piece is not included in the device; it&#8217;s maintained separately, which is convenient if you need to change the device-platform owner assignment without touching the device.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Next, the device and the ownership voucher are sent to either the owner or a partner (a value-added reseller) who includes the device as part of a solution it resells. When there are third parties between the manufacturer and the final owner, you can track the complete chain of ownership using the ownership voucher by including different certificates and keys (shown in the diagram below).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/vouchers.webp" alt="Ownership voucher">
</div>
<div class="title">Figure 3. FDO Ownership voucher (Source: FIDO Alliance)</div>
</div>
<div class="paragraph">
<p>Finally, the device owner uses the ownership voucher in the target platform or cloud to register the device. That registration happens in the Rendezvous server.</p>
</div>
</div>
<div class="sect2">
<h3 id="fdo-intro-workflow-during"><a class="anchor" href="#fdo-intro-workflow-during"></a>2. During the first boot</h3>
<div class="paragraph">
<p>Now that everything is prepared, it&#8217;s time to connect and boot the device.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>During the first boot, the device contacts the Rendezvous server endpoint(s) configured during the manufacturing phase. After the device identifies itself, the Rendezvous server sends back the platform or cloud Owner server endpoint that that device should use.</p>
</li>
<li>
<p>The device contacts the Owner server endpoint shared by the Rendezvous server and identifies itself, and the platform or cloud sends back the ownership voucher that it received before.</p>
</li>
<li>
<p>A secure tunnel is created between the device and the Owner server(s). The device uses it to download the files (including the secrets) and automation tasks it should execute during the onboarding.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This diagram shows a summary of these steps, including the communications between the Rendezvous server and the Owner server:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/services-com.webp" alt="FDO servers communication">
</div>
<div class="title">Figure 4. FDO servers communication (Source: FIDO Alliance)</div>
</div>
</div>
<div class="sect2">
<h3 id="fdo-intro-workflow-after"><a class="anchor" href="#fdo-intro-workflow-after"></a>3. After the first boot</h3>
<div class="paragraph">
<p>The FDO specification also allows you to restart the FDO late-binding process (the steps after the manufacturing phase) if you need to transfer device ownership.</p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="00-intro.html">Introduction to secure edge device onboarding</a></span>
  <span class="next"><a href="01-fdo-lab.html">1.b FDO - Lab</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://developers.redhat.com" target="_blank"></div>
</footer>
<script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
